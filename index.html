<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Svasa Life</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
  </head>
  <body>
    <header class="header">
      <a href="https://svasalife.com/">
        <img src="image copy 4.png" alt="Svasa LIFE" class="logo" />
      </a>
    </header>
    <main class="product-page">
      <section class="product-container">
        <div class="image-slider">
          <img id="main-image" src="image.png" alt="Product Image" />
          <div class="thumbnail-container">
            <img class="thumbnail" src="DSC09416.jpg" alt="Thumbnail 1" />
            <img
              class="thumbnail"
              src="DSC09410-Enhanced-NR.jpg"
              alt="Thumbnail 2"
            />
            <img class="thumbnail" src="DSC09430.jpg" alt="Thumbnail 3" />
          </div>
        </div>
        <div class="product-details">
          <h3 class="limited-edition">Limited Edition</h3>
          <h2 class="product-title">Volume 3</h2>
          <p class="price">₹3000 (inclusive of all taxes)</p>
          <button id="inviteButton" style="cursor: pointer">
            Request Your Invite
          </button>

          <div id="inviteModal" class="modal">
            <div class="modal-content">
              <span class="close-button">&times;</span>
              <h2>Request Invitation</h2>
              <p>Svasa Life’s curated gift box</p>
              <form id="inviteForm">
                <input
                  type="text"
                  id="fullName"
                  name="Full Name"
                  placeholder="Full Name"
                  required
                />
                <label for="dob">Date Of Birth</label>
                <input
                  type="text"
                  id="dob"
                  name="dob"
                  placeholder="Date of Birth"
                  required
                />
                <input
                  type="text"
                  id="profession"
                  name="Profession"
                  placeholder="Profession"
                  required
                />
                <input
                  type="tel"
                  id="phone"
                  name="Phone Number"
                  placeholder="Phone Number"
                  required
                />

                <input
                  type="email"
                  id="email"
                  name="Email"
                  placeholder="Email"
                  required
                />
                <span id="emailError">
                  Please enter a valid email address
                </span>
                <input
                  type="text"
                  id="socialMedia"
                  name="Instagram"
                  placeholder="Instagram"
                />
                <input
                  type="url"
                  id="Linkedin"
                  name="LinkedIn"
                  placeholder="Linkedin"
                  required
                />
                <!-- <input
                  type="email"
                  id="email"
                  name="Email"
                  placeholder="Email"
                  required
                />
                <span id="emailError">
                  Please enter a valid email address
                </span> -->
                <button type="submit">Submit</button>
              </form>
            </div>
          </div>

          <div id="confirmationModal" class="modal2">
            <div class="modal-content">
              <span class="close-button">&times;</span>
              <img
                src="image copy 8.png"
                alt="Success Icon"
                class="success-icon"
              />
              <h2>Request received</h2>
              <p>
                Svasa Life caters exclusively to like-minded individuals with a
                shared vision and values.<br />
                <br />
                Our team will carefully review your submission and we look
                forward to the possibility of welcoming you into our community.
              </p>
            </div>
          </div>

          <details class="accordion">
            <summary>Description</summary>
            <p>
              Celebrations in India are grand. No better way to make a grand
              gesture than with our Maanyata curation, which brings together the
              best of the 'Jashn' silver plated barware and accessories.
              <br />
              <br />
              <span class="special-text2">This Gift Box Includes:</span>
              <br />
              <br />
              Magazines: The Indian Dream | Beyond Borders
              <br />
              Bag Tags: Circular design in veg tanned leather. Lightweight and
              Branded with Svasa Life Logo.
              <br />
              Packaging: A symbol of the Svasa Life universe, the signature
              Black box reflects our timeless elegance and savoir-faire. Crafted
              with precision, the Svasa Life box is made from fine materials,
              ensuring its lasting appeal to enable its position as a
              collectible.
              <br />
            </p>
          </details>
          <details class="accordion">
            <summary>Shipping</summary>
            <p>
              We ship all physical products within 2-3 business days, with an
              expected delivery of a minimum of 5 and a maximum of 7 business
              days.
            </p>
          </details>
          <details class="accordion">
            <summary>Refunds & Cancellation</summary>
            <p>
              For any refund requests, you can reach out to us at
              Hello@svasalife.com, or call us on +919999710359. Orders once
              placed can be cancelled instantly via text messages on
              +919999710359. It may take up to 12 hours for refunds to reflect
              in your source account.
            </p>
          </details>
        </div>
      </section>
      <section class="whats-inside">
        <div class="text-container">
          <h3 class="section-subtitle">Collector's Item</h3>
          <h2 class="section-title">What's Inside</h2>
        </div>
        <div class="items">
          <div class="item">
            <img src="image copy 5.png" alt="Magazines" class="item-image" />
            <h4 class="item-title">
              The Indian Dream<br />
              <span class="special-text"> Volume 3 | Issue 1<br /></span>
            </h4>

            <p class="item-description">
              A vision of what makes India takes inspiration from diverse
              spheres.
            </p>
          </div>
          <div class="item">
            <img src="image copy 6.png" alt="Bag Tags" class="item-image" />
            <h4 class="item-title">
              Beyond Borders<br />
              <span class="special-text">Volume 3 | Issue 2<br /></span>
            </h4>
            <p class="item-description">
              An effort to delve into the world of luxury and map out India's
              exchange with it.
            </p>
          </div>
          <div class="item">
            <img src="image copy 7.png" alt="Cookies" class="item-image" />
            <h4 class="item-title">
              Bag tag<br />
              <br />
            </h4>
            <p class="item-description">
              A circular design in vegetable-tanned leather - lightweight and
              branded with Svasa Life logo.
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-center">
        <p>
          Svasa Life is a quarterly magazine with its origins in Bangalore,
          India. Created with an essence of art, heritage, business,
          entrepreneurship and the finest things that appeal to both the heart
          and intellect, each Svasa Life issue brings you intriguing stories
          that take a deeper look into the phenomenon of life.
        </p>
        <ul class="social-links">
          <li><a href="#">Facebook</a></li>
          <li>
            <a href="https://www.instagram.com/svasalife/?hl=en">Instagram</a>
          </li>
          <li><a href="#">LinkedIn</a></li>
        </ul>
      </div>
      <div class="footer-left">
        <img
          src="footerlogo/Svasa Life Logo white-01-01 copy.png"
          alt="Svasa LIFE Logo"
          class="footer-logo-image"
        />
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const accordions = document.querySelectorAll("details.accordion");

        // Close other accordions when one is opened
        accordions.forEach((accordion) => {
          accordion.addEventListener("toggle", () => {
            if (accordion.open) {
              accordions.forEach((otherAccordion) => {
                if (otherAccordion !== accordion) {
                  otherAccordion.open = false; // Close other accordions
                }
              });
            }
          });
        });

        // Utility functions to handle cookies
        function setCookie(name, value, days) {
          const date = new Date();
          date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000); // Convert days to milliseconds
          document.cookie = `${name}=${value};expires=${date.toUTCString()};path=/`;
        }

        function getCookie(name) {
          const cookies = document.cookie.split("; ");
          for (let i = 0; i < cookies.length; i++) {
            const [key, value] = cookies[i].split("=");
            if (key === name) return value;
          }
          return null;
        }

        function disableInviteButton() {
          const inviteButton = document.getElementById("inviteButton");
          if (inviteButton) {
            inviteButton.disabled = true; // Disable the button
            inviteButton.classList.add("disabled"); // Optional: Add a "disabled" class
          }
        }

        // Check if the "inviteRequested" cookie exists and disable the button if it does
        if (getCookie("inviteRequested")) {
          disableInviteButton();
        }

        // Handle Date of Birth Field
        const dobInput = document.getElementById("dob");
        if (dobInput) {
          if ("showPicker" in dobInput) {
            dobInput.type = "date";
            dobInput.setAttribute("placeholder", "Date of Birth");
          } else {
            dobInput.type = "text";
            dobInput.setAttribute("placeholder", "Date of Birth");

            dobInput.addEventListener("focus", function () {
              dobInput.type = "date";
              dobInput.click();
            });

            dobInput.addEventListener("blur", function () {
              if (!dobInput.value) {
                dobInput.type = "text";
                dobInput.setAttribute("placeholder", "Date of Birth");
              }
            });
          }
        }

        // Handle Email Validation
        const emailInput = document.getElementById("email");
        const emailError = document.getElementById("emailError");
        if (emailInput && emailError) {
          emailInput.addEventListener("input", function () {
            if (!emailInput.validity.valid) {
              emailError.style.display = "block";
            } else {
              emailError.style.display = "none";
            }
          });

          emailInput.addEventListener("blur", function () {
            if (!emailInput.validity.valid) {
              emailError.style.display = "block";
            } else {
              emailError.style.display = "none";
            }
          });
        }

        // Modal handling logic
        const inviteButton = document.getElementById("inviteButton");
        const inviteModal = document.getElementById("inviteModal");
        const confirmationModal = document.getElementById("confirmationModal");
        const closeButtons = document.querySelectorAll(".close-button");

        if (inviteButton && inviteModal) {
          inviteButton.addEventListener("click", () => {
            if (!getCookie("inviteRequested")) {
              inviteModal.style.display = "flex";
            }
          });
        }

        if (closeButtons) {
          closeButtons.forEach((button) => {
            button.addEventListener("click", () => {
              if (inviteModal) inviteModal.style.display = "none";
              if (confirmationModal) confirmationModal.style.display = "none";
              document.getElementById("inviteForm").reset();
            });
          });
        }

        window.addEventListener("click", (event) => {
          if (event.target === inviteModal) {
            inviteModal.style.display = "none";
          }
        });

        // Handle Form Submission
        const inviteForm = document.getElementById("inviteForm");
        if (inviteForm) {
          inviteForm.addEventListener("submit", async (event) => {
            event.preventDefault();
            const formData = new FormData(inviteForm);
            const data = Object.fromEntries(formData);

            try {
              const response = await fetch(
                "https://sheetdb.io/api/v1/g55eitrdiseh0",
                {
                  method: "POST",
                  headers: { "Content-Type": "application/json" },
                  body: JSON.stringify(data),
                }
              );

              if (response.ok) {
                // Set the "inviteRequested" cookie
                setCookie("inviteRequested", "true", 30); // Cookie valid for 30 days
                disableInviteButton(); // Disable the button

                if (inviteModal) inviteModal.style.display = "none";
                if (confirmationModal) confirmationModal.style.display = "flex";
                inviteForm.reset();
              } else {
                alert("Failed to submit the request. Please try again.");
              }
            } catch (error) {
              alert("Error occurred. Please try again.");
            }
          });
        }
      });
    </script>
  </body>
</html>
